!function(h){function g(){var e=document.createElement("mm"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var f in d){if(void 0!==e.style[f]){return{end:d[f]}}}return !1}function l(a){return this.each(function(){var m=h(this),e=m.data("mm"),b=h.extend({},j.DEFAULTS,m.data(),"object"==typeof a&&a);e||m.data("mm",e=new j(this,b)),"string"==typeof a&&e[a]()})}h.fn.emulateTransitionEnd=function(a){var n=!1,m=this;h(this).one("mmTransitionEnd",function(){n=!0});var d=function(){n||h(m).trigger(k.end)};return setTimeout(d,a),this};var k=g();k&&(h.event.special.mmTransitionEnd={bindType:k.end,delegateType:k.end,handle:function(a){return h(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}});var j=function(a,d){this.$element=h(a),this.options=h.extend({},j.DEFAULTS,d),this.transitioning=null,this.init()};j.TRANSITION_DURATION=350,j.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},j.prototype.init=function(){var a=this,d=this.options.activeClass;this.$element.find("li."+d).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+d).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+d).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(n){var m=h(this),c=m.parent("li"),b=c.children("ul");return n.preventDefault(),c.hasClass(d)?a.hide(b):a.show(b),a.options.doubleTapToGo&&a.doubleTapToGo(m)&&"#"!==m.attr("href")&&""!==m.attr("href")?(n.stopPropagation(),void (document.location=m.attr("href"))):void 0})},j.prototype.doubleTapToGo=function(d){var c=this.$element;return d.hasClass("doubleTapToGo")?(d.removeClass("doubleTapToGo"),!0):d.parent().children("ul").length?(c.find(".doubleTapToGo").removeClass("doubleTapToGo"),d.addClass("doubleTapToGo"),!1):void 0},j.prototype.show=function(a){var n=this.options.activeClass,m=h(a),e=m.parent("li");if(!this.transitioning&&!m.hasClass("in")){e.addClass(n),this.options.toggle&&this.hide(e.siblings().children("ul.in")),m.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var d=function(){m.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return k?void m.one("mmTransitionEnd",h.proxy(d,this)).emulateTransitionEnd(j.TRANSITION_DURATION).height(m[0].scrollHeight):d.call(this)}},j.prototype.hide=function(a){var m=this.options.activeClass,e=h(a);if(!this.transitioning&&e.hasClass("in")){e.parent("li").removeClass(m),e.height(e.height())[0].offsetHeight,e.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,e.removeClass("collapsing").addClass("collapse")};return k?void e.height(0).one("mmTransitionEnd",h.proxy(d,this)).emulateTransitionEnd(j.TRANSITION_DURATION):d.call(this)}};var i=h.fn.metisMenu;h.fn.metisMenu=l,h.fn.metisMenu.Constructor=j,h.fn.metisMenu.noConflict=function(){return h.fn.metisMenu=i,this}}(jQuery);